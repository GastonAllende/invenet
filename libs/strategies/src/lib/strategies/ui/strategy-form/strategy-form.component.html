<form [formGroup]="form" (ngSubmit)="onSubmit()" class="strategy-form">
  @if (mode() === 'create') {
    <div class="form-row">
      <div class="form-field">
        <label for="name">Name *</label>
        <input pInputText id="name" formControlName="name" />
      </div>
      <div class="form-field">
        <label for="market">Market</label>
        <input pInputText id="market" formControlName="market" />
      </div>
    </div>

    <div class="form-field">
      <label for="defaultTimeframe">Default timeframe</label>
      <input pInputText id="defaultTimeframe" formControlName="defaultTimeframe" />
    </div>
  }

  <div class="form-field">
    <label for="timeframe">Version timeframe</label>
    <input pInputText id="timeframe" formControlName="timeframe" />
  </div>

  <div class="form-field">
    <label for="entryRules">Entry rules *</label>
    <textarea pInputTextarea id="entryRules" rows="4" formControlName="entryRules"></textarea>
  </div>

  <div class="form-field">
    <label for="exitRules">Exit rules *</label>
    <textarea pInputTextarea id="exitRules" rows="4" formControlName="exitRules"></textarea>
  </div>

  <div class="form-field">
    <label for="riskRules">Risk rules *</label>
    <textarea pInputTextarea id="riskRules" rows="4" formControlName="riskRules"></textarea>
  </div>

  <div class="form-field">
    <label for="notes">Notes</label>
    <textarea pInputTextarea id="notes" rows="3" formControlName="notes"></textarea>
  </div>

  <div class="form-actions">
    <p-button
      label="Cancel"
      severity="secondary"
      [outlined]="true"
      (onClick)="onCancel()"
      [disabled]="isLoading()"
    ></p-button>
    <p-button
      [label]="mode() === 'create' ? 'Create strategy' : 'Create new version'"
      type="submit"
      [loading]="isLoading()"
      [disabled]="form.invalid || isLoading()"
    ></p-button>
  </div>
</form>
