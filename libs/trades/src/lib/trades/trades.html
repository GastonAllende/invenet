<div class="trades-container">
  <p-card>
    <ng-template pTemplate="header">
      <div class="flex justify-between items-center p-4">
        <h2 class="text-2xl font-semibold m-0">Trade History</h2>
        <p-button label="New Trade" icon="pi pi-plus" severity="primary" />
      </div>
    </ng-template>

    <p-table
      [value]="trades()"
      [loading]="loading()"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[5, 10, 20, 50]"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} trades"
      [tableStyle]="{ 'min-width': '60rem' }"
      styleClass="p-datatable-sm"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="id">ID <p-sortIcon field="id" /></th>
          <th pSortableColumn="symbol">Symbol <p-sortIcon field="symbol" /></th>
          <th pSortableColumn="type">Type <p-sortIcon field="type" /></th>
          <th pSortableColumn="quantity">
            Quantity <p-sortIcon field="quantity" />
          </th>
          <th pSortableColumn="price">Price <p-sortIcon field="price" /></th>
          <th pSortableColumn="total">Total <p-sortIcon field="total" /></th>
          <th pSortableColumn="date">Date <p-sortIcon field="date" /></th>
          <th pSortableColumn="status">Status <p-sortIcon field="status" /></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-trade>
        <tr>
          <td>{{ trade.id }}</td>
          <td class="font-semibold">{{ trade.symbol }}</td>
          <td>
            <p-tag
              [value]="trade.type"
              [severity]="getTypeSeverity(trade.type)"
            />
          </td>
          <td>{{ trade.quantity }}</td>
          <td>{{ trade.price | currency }}</td>
          <td class="font-semibold">{{ trade.total | currency }}</td>
          <td>{{ trade.date | date: 'short' }}</td>
          <td>
            <p-tag
              [value]="trade.status"
              [severity]="getStatusSeverity(trade.status)"
            />
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="8" class="text-center py-4">No trades found.</td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>
</div>
